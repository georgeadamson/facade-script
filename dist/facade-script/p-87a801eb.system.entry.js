var __awaiter=this&&this.__awaiter||function(t,e,r,n){function i(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,s){function o(t){try{c(n.next(t))}catch(e){s(e)}}function a(t){try{c(n["throw"](t))}catch(e){s(e)}}function c(t){t.done?r(t.value):i(t.value).then(o,a)}c((n=n.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return c([t,e])}}function c(o){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,i&&(s=o[0]&2?i["return"]:o[0]?i["throw"]||((s=i["return"])&&s.call(i),0):i.next)&&!(s=s.call(i,o[1])).done)return s;if(i=0,s)o=[o[0]&2,s.value];switch(o[0]){case 0:case 1:s=o;break;case 4:r.label++;return{value:o[1],done:false};case 5:r.label++;i=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(s=r.trys,s=s.length>0&&s[s.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!s||o[1]>s[0]&&o[1]<s[3])){r.label=o[1];break}if(o[0]===6&&r.label<s[1]){r.label=s[1];s=o;break}if(s&&r.label<s[2]){r.label=s[2];r.ops.push(o);break}if(s[2])r.ops.pop();r.trys.pop();continue}o=e.call(t,r)}catch(a){o=[6,a];i=0}finally{n=s=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}};System.register(["./p-5fc0cfcc.system.js"],(function(t){"use strict";var e,r,n,i,s;return{setters:[function(t){e=t.r;r=t.c;n=t.h;i=t.e;s=t.g}],execute:function(){var o={1:"Script triggered but missing src"};var a={IDLE:0,TRIGGERED_BUT_NO_SRC:.1,TRIGGERED:2,WAITING:3,LOADING:4,LOADED:5,READY:6,TIMEOUT:7};var c={};for(var u in a)c[a[u]]=u;var f={};var l=t("facade_script",function(){function t(t){var n=this;e(this,t);this.pengscript=r(this,"pengscript",7);this.isOnce=false;this.isGlobal=false;this.trigger="lazy";this.wait=0;this.showWhen="LOADED";this.statusMessage=c[a.IDLE];this.status=0;this.onTrigger=function(){var t=n,e=t.isGlobal,r=t.isIframe,i=t.wait,s=t.src,o=t.props,c=t.onLoad,u=t.timeout;n.status=a.TRIGGERED;if(!s){n.error=1;n.status=a.IDLE;return}else if(n.error){n.error=undefined}if(n.isOnce&&p(s)){if(v(s)<a.LOADING){f[s]=a.LOADING}n.status=v(s);return}var l=function(){if(e&&!(n.isOnce&&p(s))){d(r?"iframe":"script",Object.assign({src:s,onload:c},h(o)),document.head)}n.status=f[s]=a.LOADING;if(u){n.timeoutId=setTimeout((function(){if(n.status<a.READY){n.status=a.TIMEOUT}}),u)}};if(i){n.status=a.WAITING;setTimeout(l,i)}else{l()}};this.onLoad=function(){if(n.status!==a.TIMEOUT){var t=n,e=t.src,r=t.isOnce,i=t.isReady,s=t.timeout,o=t.timeoutId;clearTimeout(o);if(r)f[e]=a.LOADED;n.status=a.LOADED;y(i||function(){return true},s).then((function(){return n.status=a.READY})).catch((function(t){return console.error("awaitScriptReady",t)}))}}}t.prototype.onError=function(t){this.errorMessage=o[t]};t.prototype.onStatus=function(t,e){if(t===e)return;var r=this,n=r.wait,i=r.error,s=r.errorMessage,o=r.isOnce,u=r.src,l=r.timeoutId,p=r.host;var h={code:t,status:c[t],wait:n,timeoutId:l,src:u};console.info("PengScript:",JSON.stringify(h));if(l&&t>=a.READY){clearTimeout(l)}if(o&&t>=a.LOADING&&t>v(u)){f[u]=t}var d={status:c[t],code:t,error:i,errorMessage:s,id:p.id,src:u};this.statusMessage=c[t];this.pengscript.emit(d)};t.prototype.componentWillLoad=function(){this.src=this.srcProd};t.prototype.componentDidLoad=function(){var t=this,e=t.trigger,r=t.onTrigger,n=t.src,i=t.host;var s;switch(true){case e==="now":{s=r;break}case e==="lazy":{s=function(){return g(r).observe(i)};break}case typeof e==="function":{s=e;break}}if(s){s(r)}if(this.isOnce&&p(n)){if(v(n)<a.LOADING){f[n]=a.LOADING}this.status=v(n)}};t.prototype.render=function(){var t=this,e=t.isIframe,r=t.src,s=t.isGlobal,o=t.props,c=t.trigger,u=t.onLoad,f=t.showWhen,l=t.status,d=t.statusMessage,v=t.isOnce;var g;var y=a[String(f).toUpperCase()]||a.LOADED;if(!s&&l>a.WAITING&&!(v&&p(r))){var I=e?"iframe":"script";var O=Object.assign({src:r,onLoad:u},h(o));g=n(I,Object.assign({},O))}var b={onClick:c==="click"&&this.onTrigger};var m=l>=y&&l!==a.TIMEOUT;return n(i,Object.assign({},b),n("div",{"data-script-status":d,class:"facade-placeholder-content",hidden:m},n("slot",null)),n("div",{"data-script-status":d,class:"facade-scripted-content",hidden:!m},g))};Object.defineProperty(t.prototype,"host",{get:function(){return s(this)},enumerable:false,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{error:["onError"],status:["onStatus"]}},enumerable:false,configurable:true});return t}());function p(t){return v(t)>=a.TRIGGERED||Boolean(document.querySelector('script[src^="'+t+'"]'))}function h(t){try{return(typeof t==="object"?t:t&&JSON.parse(t))||{}}catch(e){console.error("Error parsing props JSON",e,"JSON:",t);return undefined}}function d(t,e,r){if(e===void 0){e={}}var n=document.createElement(t);Object.keys(e).forEach((function(t){var r=e[t];n.hasOwnProperty(t)||typeof r==="function"||(r=typeof r==="object"&&i(r)||r)?n[t]=r:n.setAttribute(t,r)}));if(r)r.appendChild(n);function i(t){try{return JSON.stringify(t)}catch(e){return undefined}}}function v(t){return f[t]||a.IDLE}function g(t){return new IntersectionObserver((function(e,r){var n=e[0];if(n.isIntersecting){r.disconnect();t()}}))}function y(t,e,r){if(r===void 0){r=200}return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(n){return[2,new Promise((function(n,i){var s;var o=setInterval((function(){if(t()){clearTimeout(s);clearInterval(o);n()}}),parseInt(r)||200);if(parseInt(e)){s=setTimeout((function(){clearInterval(o);i("timeout")}),parseInt(e))}}))]}))}))}}}}));